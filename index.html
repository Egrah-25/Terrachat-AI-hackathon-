<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸŒ± TerraChat AI - Land Health Assistant</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; background: white; border-radius: 15px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); overflow: hidden; }
        .header { background: linear-gradient(135deg, #2E8B57, #3CB371); color: white; padding: 30px; text-align: center; }
        .header h1 { font-size: 2.2em; margin-bottom: 10px; }
        .chat-container { height: 400px; overflow-y: auto; padding: 20px; background: #f8f9fa; }
        .message { margin: 15px 0; padding: 15px; border-radius: 15px; max-width: 80%; animation: fadeIn 0.3s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .user-message { background: #007bff; color: white; margin-left: auto; border-bottom-right-radius: 5px; }
        .ai-message { background: white; border: 1px solid #e0e0e0; margin-right: auto; border-bottom-left-radius: 5px; }
        .input-area { padding: 20px; background: white; border-top: 1px solid #eee; display: flex; gap: 10px; }
        #userInput { flex: 1; padding: 15px; border: 2px solid #e0e0e0; border-radius: 10px; font-size: 16px; resize: none; }
        button { background: linear-gradient(135deg, #2E8B57, #3CB371); color: white; border: none; padding: 15px 25px; border-radius: 10px; cursor: pointer; font-size: 16px; font-weight: 600; }
        button:hover { transform: translateY(-2px); }
        .message strong { display: block; margin-bottom: 5px; font-size: 0.9em; opacity: 0.8; }
        .typing-indicator { display: inline-block; }
        .typing-indicator span { height: 8px; width: 8px; background: #999; border-radius: 50%; display: inline-block; margin: 0 2px; animation: typing 1.4s infinite; }
        .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
        .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
        @keyframes typing { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸŒ± TerraChat AI</h1>
            <p>Your AI-Powered Land Health & Regeneration Assistant</p>
        </div>
        <div class="chat-container" id="chatContainer">
            <div class="message ai-message">
                <strong>ğŸŒ TerraBot</strong>
                Welcome! I'm your AI Land Regeneration expert. I can help with soil health, erosion control, sustainable farming, and climate resilience!
            </div>
        </div>
        <div class="input-area">
            <textarea id="userInput" placeholder="Describe your land, soil issues, or ask about regenerative practices..." rows="3"></textarea>
            <button onclick="sendMessage()" id="sendBtn">Send</button>
        </div>
    </div>

    <script>
        const knowledgeBase = {
            soil: {
                dry: `ğŸŒµ **Dry Soil Analysis**: ğŸ’§ Install drip irrigation, add organic mulch, use rainwater harvesting. ğŸŒ± Mix in compost, add vermiculite, plant drought-resistant cover crops.`,
                clay: `ğŸŸ« **Clay Soil Solutions**: ğŸ”„ Add gypsum, mix in coarse sand, create raised beds. ğŸŒ¿ Grow clay-loving plants, use deep-rooted cover crops.`,
                sandy: `ğŸ–ï¸ **Sandy Soil Enhancement**: ğŸ’ª Add 3-4 inches of compost, use biochar. ğŸŒ³ Perfect for root vegetables, use heavy mulching.`
            },
            erosion: {
                water: `ğŸ’§ **Water Erosion Control**: ğŸ›¡ï¸ Build terraces, install French drains. ğŸŒ¿ Plant deep-rooted grasses, create buffer strips.`,
                wind: `ğŸ’¨ **Wind Erosion Prevention**: ğŸŒ³ Plant windbreak trees. ğŸ›¡ï¸ Apply straw mulch, use cover crops.`
            }
        };

        function analyzeMessage(message) {
            const lowerMsg = message.toLowerCase();
            if (lowerMsg.includes('dry') || lowerMsg.includes('arid')) return knowledgeBase.soil.dry;
            if (lowerMsg.includes('clay') || lowerMsg.includes('heavy')) return knowledgeBase.soil.clay;
            if (lowerMsg.includes('sandy') || lowerMsg.includes('light')) return knowledgeBase.soil.sandy;
            if (lowerMsg.includes('erosion')) return lowerMsg.includes('wind') ? knowledgeBase.erosion.wind : knowledgeBase.erosion.water;
            return `ğŸŒ **Land Regeneration**: Test soil pH, map water flow, identify native plants. Start small pilot areas and track progress!`;
        }

        function sendMessage() {
            const userInput = document.getElementById('userInput');
            const chatContainer = document.getElementById('chatContainer');
            const message = userInput.value.trim();
            if (!message) return;

            addMessage('user', message);
            userInput.value = '';
            
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message ai-message';
            typingDiv.innerHTML = `<strong>ğŸŒ TerraBot</strong><div class="typing-indicator"><span></span><span></span><span></span></div>`;
            chatContainer.appendChild(typingDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;

            setTimeout(() => {
                chatContainer.removeChild(typingDiv);
                const response = analyzeMessage(message);
                addMessage('ai', response.replace(/\n/g, '<br>'));
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }, 1500);
        }

        function addMessage(sender, text) {
            const chatContainer = document.getElementById('chatContainer');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;
            messageDiv.innerHTML = `<strong>${sender === 'user' ? 'ğŸ‘¤ You' : 'ğŸŒ TerraBot'}</strong>${text}`;
            chatContainer.appendChild(messageDiv);
        }

        document.getElementById('userInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });
    </script>
</body>
</html>
